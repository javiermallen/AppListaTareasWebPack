(()=>{"use strict";var e={d:(t,a)=>{for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{A:()=>g});class t{constructor(e){this.tarea=e,this.id=(new Date).getTime(),this.completado=!1,this.fecha=new Date}}const a=document.querySelector(".new-todo"),s=document.querySelector(".todo-list"),r=document.querySelector(".clear-completed"),l=document.querySelector(".filters"),o=document.querySelectorAll(".filtro"),i=document.querySelector(".footer");let c=document.querySelector("strong");const n=e=>{const t=`\n        <li class="${e.completado?"completed":""}" data-id="${e.id}">\n            <div class="view">\n                <input class="toggle" type="checkbox" ${e.completado?"checked":""}>\n                <label>${e.tarea}</label>\n                <button class="destroy"></button>\n            </div>\n                <input class="edit" value="Create a TodoMVC template">\n        </li>\n    `;s.innerHTML+=t},d=()=>{0!==g.listaTareas.length?i.classList.remove("hidden"):i.classList.add("hidden")},m=()=>{const e=g.listaTareas.filter((e=>!1===e.completado));c.textContent=e.length},h=()=>{g.listaTareas.filter((e=>!0===e.completado)).length>0?r.classList.remove("hidden"):r.classList.add("hidden")};a.addEventListener("keyup",(e=>{if("Enter"===e.key&&a.value.trim().length>0){const e=new t(a.value);g.anadirTarea(e),n(e),a.value=""}d(),m(),h()})),s.addEventListener("click",(e=>{const t=e.target.localName,a=e.target.parentElement.parentElement,r=a.dataset.id;"input"===t&&(g.marcarCompletado(r),a.classList.toggle("completed")),"button"===t&&(g.eliminarTarea(r),s.removeChild(a)),d(),m(),h()})),r.addEventListener("click",(()=>{g.eliminarCompletados();for(let e=s.children.length-1;e>=0;e--){const t=s.children[e];t.classList.contains("completed")&&t.remove()}d(),m(),h()})),l.addEventListener("click",(e=>{o.forEach((e=>e.classList.remove("selected"))),e.target.classList.add("selected");const t=e.target.text;if(t)for(const e of s.children)switch(e.classList.remove("hidden"),t){case"Pendientes":e.classList.contains("completed")&&e.classList.add("hidden");break;case"Completadas":e.classList.contains("completed")||e.classList.add("hidden")}})),s.addEventListener("dblclick",(e=>{const t=e.target.localName,a=e.target.parentElement.parentElement,s=a.dataset.id;if("label"===t){const e=a.children[0].children[1];console.log(e),e.setAttribute("contenteditable",!0),e.setAttribute("style","border: 1px solid #000"),e.addEventListener("keypress",(t=>{if("Enter"===t.key){const t=e.innerHTML;e.setAttribute("contenteditable",!1),e.removeAttribute("style"),g.listaTareas.forEach((e=>{e.id==s&&(e.tarea=t,g.guardarLocalStorage())}))}}))}}));const g=new class{constructor(){this.cargarLocalStorage()}anadirTarea(e){this.listaTareas.push(e),this.guardarLocalStorage()}eliminarTarea(e){this.listaTareas=this.listaTareas.filter((t=>t.id!=e)),this.guardarLocalStorage()}eliminarCompletados(){this.listaTareas=this.listaTareas.filter((e=>!1===e.completado)),this.guardarLocalStorage()}marcarCompletado(e){for(const t of this.listaTareas)if(t.id==e){t.completado=!t.completado,this.guardarLocalStorage();break}}guardarLocalStorage(){localStorage.setItem("tareas",JSON.stringify(this.listaTareas))}cargarLocalStorage(){this.listaTareas=localStorage.getItem("tareas")?JSON.parse(localStorage.getItem("tareas")):[]}};g.listaTareas.forEach((e=>n(e))),d(),m(),h()})();
//# sourceMappingURL=bundle.59bea90e462f09d0d340.js.map